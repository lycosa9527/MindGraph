# MindGraph

**Enterprise-Grade AI Diagram Generation Platform** | **ä¼ä¸šçº§AIå›¾è¡¨ç”Ÿæˆå¹³å°**

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.104+-green.svg)](https://fastapi.tiangolo.com/)
[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](LICENSE)
[![Version](https://img.shields.io/badge/Version-4.12.0-brightgreen.svg)](CHANGELOG.md)
[![Built with Cursor](https://img.shields.io/badge/Built%20with-Cursor%20AI-blueviolet.svg)](https://cursor.sh)
[![wakatime](https://wakatime.com/badge/user/60ba0518-3829-457f-ae10-3eff184d5f69/project/a278db63-dcfb-4dae-b731-330443000199.svg)](https://wakatime.com/@lyc9527/projects/tkidgnziyn)

Transform natural language into professional visual diagrams. **API-first platform** for Dify, Coze, and any HTTP integration. **Complete interactive suite** for K-12 education with AI-powered learning tools.

å°†è‡ªç„¶è¯­è¨€è½¬æ¢ä¸ºä¸“ä¸šå¯è§†åŒ–å›¾è¡¨ã€‚é¢å‘Difyã€Cozeå’Œä»»ä½•HTTPé›†æˆçš„**APIä¼˜å…ˆå¹³å°**ã€‚é¢å‘K-12æ•™è‚²çš„**å®Œæ•´äº¤äº’å¥—ä»¶**ï¼Œé…å¤‡AIé©±åŠ¨çš„å­¦ä¹ å·¥å…·ã€‚

---

## ğŸ’¡ **Project Highlight** | **é¡¹ç›®äº®ç‚¹**

> ### ğŸ¯ **Built by a Non-Programmer with Cursor AI**
> 
> **English:** This **entire enterprise-grade application** was created by someone with **ZERO programming knowledge** using [Cursor AI](https://cursor.sh) - an AI-powered code editor. From FastAPI backend to interactive frontend, from database design to API security, **everything was built through AI pair programming**. This project proves that **anyone with vision and ideas can build professional software** in the AI era, regardless of technical background.
> 
> **ä¸­æ–‡:** è¿™ä¸ª**å®Œæ•´çš„ä¼ä¸šçº§åº”ç”¨**ç”±ä¸€ä¸ª**é›¶ç¼–ç¨‹çŸ¥è¯†**çš„äººä½¿ç”¨ [Cursor AI](https://cursor.sh)ï¼ˆAIé©±åŠ¨çš„ä»£ç ç¼–è¾‘å™¨ï¼‰åˆ›å»ºã€‚ä»FastAPIåç«¯åˆ°äº¤äº’å¼å‰ç«¯ï¼Œä»æ•°æ®åº“è®¾è®¡åˆ°APIå®‰å…¨ï¼Œ**ä¸€åˆ‡éƒ½é€šè¿‡AIç»“å¯¹ç¼–ç¨‹å®Œæˆ**ã€‚è¿™ä¸ªé¡¹ç›®è¯æ˜äº†åœ¨AIæ—¶ä»£ï¼Œ**ä»»ä½•æœ‰æ„¿æ™¯å’Œæƒ³æ³•çš„äººéƒ½å¯ä»¥æ„å»ºä¸“ä¸šè½¯ä»¶**ï¼Œæ— è®ºæŠ€æœ¯èƒŒæ™¯å¦‚ä½•ã€‚
>
> **Key Achievement | å…³é”®æˆå°±:**
> - âœ… **6,900+ lines** of production code | **6,900+è¡Œ**ç”Ÿäº§ä»£ç 
> - âœ… **15 files modified** for security system | **15ä¸ªæ–‡ä»¶**çš„å®‰å…¨ç³»ç»Ÿ
> - âœ… **4,000+ concurrent connections** supported | æ”¯æŒ**4,000+å¹¶å‘è¿æ¥**
> - âœ… **10 diagram types** with AI generation | **10ç§å›¾è¡¨ç±»å‹**çš„AIç”Ÿæˆ
> - âœ… **Bilingual** English/Chinese support | **åŒè¯­**ä¸­è‹±æ–‡æ”¯æŒ
> - âœ… **100% AI-assisted development** | **100% AIè¾…åŠ©å¼€å‘**

---

## âœ¨ Features | æ ¸å¿ƒåŠŸèƒ½

### ğŸ¯ 10 Professional Diagram Types | 10ç§ä¸“ä¸šå›¾è¡¨ç±»å‹
- **Thinking Maps | æ€ç»´å›¾ç¤º** (8 types | 8ç§): Circle, Bubble, Double Bubble, Tree, Brace, Flow, Multi-Flow, Bridge
- **Mind Map | æ€ç»´å¯¼å›¾**: Radial brainstorming and concept organization | æ”¾å°„çŠ¶å¤´è„‘é£æš´å’Œæ¦‚å¿µç»„ç»‡
- **Concept Map | æ¦‚å¿µå›¾**: Advanced relationship mapping | é«˜çº§å…³ç³»æ˜ å°„

### ğŸ¤– AI-Powered Generation | AIé©±åŠ¨ç”Ÿæˆ
- **Smart Classification | æ™ºèƒ½åˆ†ç±»**: Auto-detect diagram type from natural language | ä»è‡ªç„¶è¯­è¨€è‡ªåŠ¨æ£€æµ‹å›¾è¡¨ç±»å‹
- **Multi-LLM Support | å¤šLLMæ”¯æŒ**: Qwen, DeepSeek, Kimi, Hunyuan
- **Bilingual | åŒè¯­**: Perfect Chinese/English support | å®Œç¾ä¸­è‹±æ–‡æ”¯æŒ

### ğŸ“ Education Features | æ•™è‚²åŠŸèƒ½
- **Interactive Learning Mode | äº¤äº’å¼å­¦ä¹ æ¨¡å¼**: AI tutor with real-time validation | AIå¯¼å¸ˆå®æ—¶éªŒè¯
- **20% Intelligent Knockout | 20%æ™ºèƒ½éšè—**: Active recall practice | ä¸»åŠ¨å›å¿†ç»ƒä¹ 
- **Multi-Angle Teaching | å¤šè§’åº¦æ•™å­¦**: Tests understanding from multiple perspectives | ä»å¤šä¸ªè§’åº¦æµ‹è¯•ç†è§£

### ğŸ” Secure Authentication | å®‰å…¨è®¤è¯
- **API Key Authentication | APIå¯†é’¥è®¤è¯**: For external services (Dify, partners) | ç”¨äºå¤–éƒ¨æœåŠ¡ï¼ˆDifyã€åˆä½œä¼™ä¼´ï¼‰
- **JWT Token Authentication | JWTä»¤ç‰Œè®¤è¯**: For authenticated users | ç”¨äºå·²è®¤è¯ç”¨æˆ·
- **Admin Panel | ç®¡ç†é¢æ¿**: Complete API key management | å®Œæ•´çš„APIå¯†é’¥ç®¡ç†

### âš¡ Performance | æ€§èƒ½è¡¨ç°
- **Async Architecture | å¼‚æ­¥æ¶æ„**: 4,000+ concurrent connections | 4,000+å¹¶å‘è¿æ¥
- **Fast Response | å¿«é€Ÿå“åº”**: Average 8.7s end-to-end | å¹³å‡8.7ç§’ç«¯åˆ°ç«¯
- **Production Ready | ç”Ÿäº§å°±ç»ª**: FastAPI + Uvicorn ASGI

---

## ğŸš€ Quick Start | å¿«é€Ÿå¼€å§‹

### Prerequisites | å‰ç½®è¦æ±‚

- **Python 3.8+** (Recommended: 3.13+ for best performance | æ¨èï¼š3.13+ä»¥è·å¾—æœ€ä½³æ€§èƒ½)
- Internet connection for LLM API access | äº’è”ç½‘è¿æ¥ä»¥è®¿é—®LLM API
- Modern web browser | ç°ä»£ç½‘é¡µæµè§ˆå™¨

### Installation | å®‰è£…

```bash
# 1. Clone repository
git clone https://github.com/lycosa9527/MindGraph.git
cd MindGraph

# 2. Install dependencies
python setup.py

# 3. Configure environment
cp env.example .env
# Edit .env and add your QWEN_API_KEY
```

### Configuration | é…ç½®

**Required environment variables | å¿…éœ€çš„ç¯å¢ƒå˜é‡:**

```bash
# LLM API Key (Required)
QWEN_API_KEY=your-qwen-api-key-here

# Optional: Additional LLM models
DEEPSEEK_API_KEY=your-deepseek-key
KIMI_API_KEY=your-kimi-key
HUNYUAN_SECRET_ID=your-hunyuan-id
HUNYUAN_SECRET_KEY=your-hunyuan-key

# Server Configuration
PORT=9527
EXTERNAL_HOST=localhost

# Authentication Mode (standard, enterprise, demo)
AUTH_MODE=standard

# JWT Configuration
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRY_HOURS=168
```

### Running the Server | è¿è¡ŒæœåŠ¡å™¨

```bash
python run_server.py
```

**Server Output | æœåŠ¡å™¨è¾“å‡º:**
```
ğŸš€ MindGraph FastAPI Server Starting...
Environment: production
Host: 0.0.0.0
Port: 9527
Workers: 4

âœ… Server ready at: http://localhost:9527
âœ… Interactive Editor: http://localhost:9527/editor
âœ… API Documentation: http://localhost:9527/docs
âœ… Admin Panel: http://localhost:9527/admin
```

### Access Points | è®¿é—®å…¥å£

| Service | URL | Description |
|---------|-----|-------------|
| **Interactive Editor** | http://localhost:9527/editor | Full-featured web editor |
| **API Documentation** | http://localhost:9527/docs | Interactive Swagger UI |
| **Admin Panel** | http://localhost:9527/admin | Manage API keys, users, settings |
| **Health Check** | http://localhost:9527/health | Server status endpoint |

---

## ğŸ”Œ API Integration | APIé›†æˆ

### Authentication | èº«ä»½éªŒè¯

MindGraph supports two authentication methods | MindGraphæ”¯æŒä¸¤ç§è®¤è¯æ–¹å¼:

**1. API Key (for external services) | APIå¯†é’¥ï¼ˆç”¨äºå¤–éƒ¨æœåŠ¡ï¼‰**
```http
POST /api/generate_png
Content-Type: application/json
X-API-Key: sk_mindgraph_your_api_key_here

{
  "prompt": "Compare cats and dogs",
  "language": "en"
}
```

**2. JWT Token (for authenticated users) | JWTä»¤ç‰Œï¼ˆç”¨äºå·²è®¤è¯ç”¨æˆ·ï¼‰**
```http
POST /api/generate_png
Content-Type: application/json
Authorization: Bearer your_jwt_token_here

{
  "prompt": "Compare cats and dogs",
  "language": "en"
}
```

**Generate API Key | ç”ŸæˆAPIå¯†é’¥:**
1. Access admin panel at `/admin` | è®¿é—® `/admin` ç®¡ç†é¢æ¿
2. Go to "ğŸ”‘ API Keys" tab | è¿›å…¥"ğŸ”‘ API Keys"æ ‡ç­¾é¡µ
3. Click "Create New API Key" | ç‚¹å‡»"åˆ›å»ºæ–°APIå¯†é’¥"
4. Copy the generated key (shown only once!) | å¤åˆ¶ç”Ÿæˆçš„å¯†é’¥ï¼ˆä»…æ˜¾ç¤ºä¸€æ¬¡ï¼ï¼‰

### Dify Integration | Difyé›†æˆ

**HTTP Request Node Configuration:**

```json
{
  "url": "http://your-server:9527/api/generate_png",
  "method": "POST",
  "headers": {
    "Content-Type": "application/json",
    "X-API-Key": "sk_mindgraph_your_key_here"
  },
  "body": {
    "prompt": "{{user_input}}",
    "language": "en"
  }
}
```

**Returns:** Binary PNG image ready for display

### Python Example | Pythonç¤ºä¾‹

```python
import requests

def generate_diagram(prompt, api_key, language="en"):
    response = requests.post(
        "http://localhost:9527/api/generate_png",
        headers={
            "Content-Type": "application/json",
            "X-API-Key": api_key
        },
        json={
            "prompt": prompt,
            "language": language
        }
    )
    
    if response.status_code == 200:
        with open("diagram.png", "wb") as f:
            f.write(response.content)
        return "diagram.png"
    else:
        raise Exception(f"Error: {response.json()}")

# Usage
api_key = "sk_mindgraph_abc123xyz456"
diagram = generate_diagram("Compare online vs offline learning", api_key)
print(f"Saved: {diagram}")
```

### JavaScript Example | JavaScriptç¤ºä¾‹

```javascript
const axios = require('axios');
const fs = require('fs');

async function generateDiagram(prompt, apiKey, language = 'en') {
    const response = await axios.post(
        'http://localhost:9527/api/generate_png',
        { prompt, language },
        {
            headers: {
                'Content-Type': 'application/json',
                'X-API-Key': apiKey
            },
            responseType: 'arraybuffer'
        }
    );
    
    fs.writeFileSync('diagram.png', response.data);
    return 'diagram.png';
}

// Usage
const apiKey = 'sk_mindgraph_abc123xyz456';
generateDiagram('Create a mind map about AI', apiKey)
    .then(file => console.log(`Saved: ${file}`))
    .catch(err => console.error('Error:', err));
```

---

## ğŸ“ Interactive Learning Mode | äº¤äº’å¼å­¦ä¹ æ¨¡å¼

**AI-Powered Tutoring for K-12 Education | K-12æ•™è‚²AIè¾…å¯¼**

Transform any diagram into an interactive learning experience | å°†ä»»ä½•å›¾è¡¨è½¬æ¢ä¸ºäº¤äº’å¼å­¦ä¹ ä½“éªŒ:

### How It Works | å·¥ä½œåŸç†

1. **Create or Generate Diagram | åˆ›å»ºæˆ–ç”Ÿæˆå›¾è¡¨** - Use AI or manual creation | ä½¿ç”¨AIæˆ–æ‰‹åŠ¨åˆ›å»º
2. **Click "Learning" Button | ç‚¹å‡»"å­¦ä¹ "æŒ‰é’®** - System analyzes and hides 20% of nodes | ç³»ç»Ÿåˆ†æå¹¶éšè—20%çš„èŠ‚ç‚¹
3. **Answer Questions | å›ç­”é—®é¢˜** - AI validates answers with semantic understanding | AIé€šè¿‡è¯­ä¹‰ç†è§£éªŒè¯ç­”æ¡ˆ
4. **Get Real-time Feedback | è·å¾—å®æ—¶åé¦ˆ** - Correct answers progress, wrong answers trigger teaching | æ­£ç¡®ç­”æ¡ˆç»§ç»­ï¼Œé”™è¯¯ç­”æ¡ˆè§¦å‘æ•™å­¦
5. **Multi-Level Teaching | å¤šçº§æ•™å­¦** - Progressive escalation with different perspectives | ä»ä¸åŒè§’åº¦æ¸è¿›å‡çº§
6. **Complete Session | å®Œæˆä¼šè¯** - View final score and performance summary | æŸ¥çœ‹æœ€ç»ˆåˆ†æ•°å’Œè¡¨ç°æ€»ç»“

### Educational Benefits | æ•™è‚²ä»·å€¼

âœ… **Active Recall | ä¸»åŠ¨å›å¿†** - Research-proven memory retention technique | ç»ç ”ç©¶è¯æ˜çš„è®°å¿†ä¿æŒæŠ€æœ¯  
âœ… **Intelligent Tutoring | æ™ºèƒ½è¾…å¯¼** - AI adapts teaching based on misconceptions | AIæ ¹æ®è¯¯è§£è°ƒæ•´æ•™å­¦  
âœ… **Multi-Angle Learning | å¤šè§’åº¦å­¦ä¹ ** - Tests understanding from 4 cognitive perspectives | ä»4ä¸ªè®¤çŸ¥è§’åº¦æµ‹è¯•ç†è§£  
âœ… **Immediate Feedback | å³æ—¶åé¦ˆ** - Real-time validation with explanations | å®æ—¶éªŒè¯å’Œè§£é‡Š  
âœ… **Visual Learning | è§†è§‰å­¦ä¹ ** - Node highlighting and animations | èŠ‚ç‚¹é«˜äº®å’ŒåŠ¨ç”»  

---

## ğŸ³ Docker Deployment | Dockeréƒ¨ç½²

### Quick Start with Docker | Dockerå¿«é€Ÿå¼€å§‹

```bash
# Build image
docker build -f docker/Dockerfile -t mindgraph:latest .

# Run container
docker run -d -p 9527:9527 \
  -e QWEN_API_KEY=your-api-key \
  -e EXTERNAL_HOST=your-server-ip \
  --name mindgraph \
  mindgraph:latest

# View logs
docker logs -f mindgraph
```

### Docker Compose

```bash
# Copy environment template
cp docker/docker.env.example .env

# Edit .env with your configuration

# Start application
docker-compose -f docker/docker-compose.yml up -d
```

---

## ğŸ“š Documentation

- [**API Reference**](docs/API_REFERENCE.md) - Complete API documentation with bilingual examples
- [**API Key Security**](docs/API_KEY_SECURITY_IMPLEMENTATION.md) - Security implementation guide
- [**Changelog**](CHANGELOG.md) - Version history and updates

---

## ğŸ§ª Testing | æµ‹è¯•

```bash
# Start server | å¯åŠ¨æœåŠ¡å™¨
python run_server.py

# Run tests (in another terminal) | è¿è¡Œæµ‹è¯•ï¼ˆåœ¨å¦ä¸€ä¸ªç»ˆç«¯ï¼‰
cd tests
python test_all_agents.py production
```

**Test Coverage | æµ‹è¯•è¦†ç›–:**
- 10 diagram types with diverse topics | 10ç§å›¾è¡¨ç±»å‹åŠå¤šæ ·åŒ–ä¸»é¢˜
- Concurrent request handling | å¹¶å‘è¯·æ±‚å¤„ç†
- PNG generation validation | PNGç”ŸæˆéªŒè¯
- Performance benchmarking | æ€§èƒ½åŸºå‡†æµ‹è¯•

---

## ğŸ“Š Performance Metrics | æ€§èƒ½æŒ‡æ ‡

| Metric æŒ‡æ ‡ | Value å€¼ | Notes è¯´æ˜ |
|--------|-------|-------|
| **Average Response Time å¹³å‡å“åº”æ—¶é—´** | 8.7s | End-to-end (LLM + rendering + export) ç«¯åˆ°ç«¯ |
| **Concurrent Connections å¹¶å‘è¿æ¥** | 4,000+ | FastAPI async architecture FastAPIå¼‚æ­¥æ¶æ„ |
| **Success Rate æˆåŠŸç‡** | 97.8% | Production simulation results ç”Ÿäº§æ¨¡æ‹Ÿç»“æœ |
| **LLM Processing LLMå¤„ç†** | 5.94s | Main bottleneck (69% of total time) ä¸»è¦ç“¶é¢ˆï¼ˆæ€»æ—¶é—´çš„69%ï¼‰ |
| **PNG Export PNGå¯¼å‡º** | 2.7s | Playwright rendering (31% of total time) Playwrightæ¸²æŸ“ï¼ˆæ€»æ—¶é—´çš„31%ï¼‰ |

---

## ğŸ¤ Contributing | è´¡çŒ®

We welcome contributions! | æ¬¢è¿è´¡çŒ®ï¼ Please follow these steps | è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤:

1. Fork the repository | Forkä»“åº“
2. Create a feature branch | åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. Commit your changes | æäº¤æ›´æ”¹ (`git commit -m 'Add AmazingFeature'`)
4. Push to the branch | æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. Open a Pull Request | æ‰“å¼€Pull Request

---

## ğŸ“„ License | è®¸å¯è¯

This project is licensed under the **Apache License 2.0** - see the [LICENSE](LICENSE) file for details.  
æœ¬é¡¹ç›®é‡‡ç”¨**Apache 2.0è®¸å¯è¯** - è¯¦æƒ…è¯·å‚é˜…[LICENSE](LICENSE)æ–‡ä»¶ã€‚

**Key Points | è¦ç‚¹:**
- âœ… Free for personal, educational, and commercial use | å…è´¹ç”¨äºä¸ªäººã€æ•™è‚²å’Œå•†ä¸šç”¨é€”
- âœ… Open source contributions welcome | æ¬¢è¿å¼€æºè´¡çŒ®
- âœ… Patent grant and protection included | åŒ…å«ä¸“åˆ©æˆæƒå’Œä¿æŠ¤
- âš ï¸ **Trademark NOT included**: MindGraph name and logos are protected | **å•†æ ‡ä¸åŒ…æ‹¬åœ¨å†…**ï¼šMindGraphåç§°å’Œæ ‡å¿—å—ä¿æŠ¤

**Trademark Notice | å•†æ ‡å£°æ˜:**

The **MindGraph** name, logos, and branding are trademarks of lycosa9527/MindSpring Team and are NOT included in the Apache 2.0 license grant. If you fork or redistribute this software:

**MindGraph** åç§°ã€æ ‡å¿—å’Œå“ç‰Œæ˜¯lycosa9527/MindSpringå›¢é˜Ÿçš„å•†æ ‡ï¼Œä¸åŒ…å«åœ¨Apache 2.0è®¸å¯æˆæƒä¸­ã€‚å¦‚æœæ‚¨forkæˆ–é‡æ–°åˆ†å‘æ­¤è½¯ä»¶ï¼š

- âŒ Remove all MindGraph branding and logos | åˆ é™¤æ‰€æœ‰MindGraphå“ç‰Œå’Œæ ‡å¿—
- âŒ Use a different name for your project | ä¸ºæ‚¨çš„é¡¹ç›®ä½¿ç”¨ä¸åŒçš„åç§°
- âœ… Provide attribution to the original project | å¯¹åŸå§‹é¡¹ç›®æä¾›ç½²å

See [NOTICE](NOTICE) file for complete trademark and attribution information.

---

## ğŸ’¬ Support | æ”¯æŒ

**Questions? Issues? Feedback? | é—®é¢˜ï¼Ÿé”™è¯¯ï¼Ÿåé¦ˆï¼Ÿ**

- ğŸ› **Issues | é—®é¢˜**: [GitHub Issues](https://github.com/lycosa9527/MindGraph/issues)
- ğŸ“§ **Email | é‚®ä»¶**: Contact via GitHub | é€šè¿‡GitHubè”ç³»
- ğŸ“– **Docs | æ–‡æ¡£**: [API Reference | APIå‚è€ƒ](docs/API_REFERENCE.md)

---

## ğŸŒŸ Acknowledgments | è‡´è°¢

### Built with â¤ï¸ by lycosa9527 | ç”±lycosa9527ç”¨â¤ï¸æ„å»º
**Made by MindSpring Team | MindSpringå›¢é˜Ÿå‡ºå“**

> **Powered by [Cursor AI](https://cursor.sh)** - The AI-first code editor that made this project possible
> 
> **ç”± [Cursor AI](https://cursor.sh) é©±åŠ¨** - è®©è¿™ä¸ªé¡¹ç›®æˆä¸ºå¯èƒ½çš„AIä¼˜å…ˆä»£ç ç¼–è¾‘å™¨

*AI-Powered Visual Learning for the Next Generation*  
*ä¸‹ä¸€ä»£AIé©±åŠ¨çš„å¯è§†åŒ–å­¦ä¹ *

---

### â­ Star This Project | ç»™é¡¹ç›®åŠ æ˜Ÿ

If you find MindGraph useful, please consider giving it a â­ on GitHub!  
å¦‚æœæ‚¨è§‰å¾—MindGraphæœ‰ç”¨ï¼Œè¯·è€ƒè™‘åœ¨GitHubä¸Šç»™å®ƒä¸€ä¸ªâ­ï¼

**This project demonstrates that with AI assistance, anyone can build enterprise software - no coding background required!**  
**è¿™ä¸ªé¡¹ç›®è¯æ˜äº†åœ¨AIçš„å¸®åŠ©ä¸‹ï¼Œä»»ä½•äººéƒ½å¯ä»¥æ„å»ºä¼ä¸šè½¯ä»¶ - æ— éœ€ç¼–ç¨‹èƒŒæ™¯ï¼**
