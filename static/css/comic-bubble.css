/**
 * Comic Bubble Styles
 * Speech bubble for VoiceAgent streaming text
 * 
 * @author lycosa9527
 * @made_by MindSpring Team
 */

/* Black Cat Container Positioning */
.black-cat-container {
    position: fixed;
    bottom: 20px;
    left: 20px;
    width: 120px;
    height: 120px;
    cursor: pointer;
    z-index: 9999;
    transition: transform 0.2s ease;
}

.black-cat-container:hover {
    transform: scale(1.05);
}

.black-cat-container:active {
    transform: scale(0.95);
}

.comic-bubble {
    position: fixed;
    bottom: 150px; /* Above BlackCat (BlackCat is at 20px, 120px height = 140px, + 10px gap) */
    left: 20px;    /* Align with BlackCat left edge */
    max-width: 380px;
    min-width: 160px;
    
    /* Comic-style gradient background */
    background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
    border: 4px solid #2c3e50;
    border-radius: 24px;
    padding: 20px 24px;
    
    /* Enhanced shadow for depth */
    box-shadow: 
        0 8px 24px rgba(44, 62, 80, 0.15),
        0 2px 8px rgba(44, 62, 80, 0.1),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    
    z-index: 10000;
    
    /* Animation */
    opacity: 0;
    transform: scale(0.85) translateY(-5px);
    transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.comic-bubble.visible {
    opacity: 1;
    transform: scale(1) translateY(0);
}

/* Speech bubble tail pointing down to black cat */
.comic-bubble::after {
    content: '';
    position: absolute;
    bottom: -24px;
    left: 40px;
    width: 0;
    height: 0;
    border-left: 18px solid transparent;
    border-right: 18px solid transparent;
    border-top: 24px solid #f8f9fa;
    filter: drop-shadow(0 3px 4px rgba(44, 62, 80, 0.12));
}

/* Dark border for tail */
.comic-bubble::before {
    content: '';
    position: absolute;
    bottom: -29px;
    left: 36px;
    width: 0;
    height: 0;
    border-left: 22px solid transparent;
    border-right: 22px solid transparent;
    border-top: 29px solid #2c3e50;
}

.comic-bubble-text {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    font-size: 16px;
    line-height: 1.6;
    color: #2c3e50;
    font-weight: 500;
    word-wrap: break-word;
    white-space: pre-wrap;
    letter-spacing: 0.2px;
    text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
}

/* Thinking animation (dots) */
.comic-bubble.thinking .comic-bubble-text {
    font-size: 24px;
    text-align: center;
    letter-spacing: 4px;
}

/* Mobile responsive */
@media (max-width: 768px) {
    .comic-bubble {
        bottom: 140px;
        right: 20px;
        max-width: 260px;
        padding: 12px 16px;
        font-size: 14px;
    }
    
    .comic-bubble::after {
        right: 20px;
    }
    
    .comic-bubble::before {
        right: 17px;
    }
}

/* Accessibility: High contrast mode */
@media (prefers-contrast: high) {
    .comic-bubble {
        border-width: 4px;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
    }
}

/* Animation for typing effect */
@keyframes blink-cursor {
    0%, 100% { opacity: 1; }
    50% { opacity: 0; }
}

.comic-bubble.typing .comic-bubble-text::after {
    content: 'â–Œ';
    animation: blink-cursor 0.8s infinite;
    margin-left: 2px;
}

/* Fade in words animation */
@keyframes fade-in-word {
    from {
        opacity: 0;
        transform: translateY(5px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.comic-bubble-text .word {
    display: inline-block;
    animation: fade-in-word 0.3s ease;
}

